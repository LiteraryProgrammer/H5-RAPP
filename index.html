<!doctype html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="css/mui.min.css" rel="stylesheet" />
	</head>
<body>
		<input type="text" name="res" id="res" value="" />
		<button type="button" class="mui-btn mui-btn-blue mui-btn-block" id='barcode'>扫描二维码、条码</button>		
		<script src="js/mui.min.js"></script>
		<script type="text/javascript" src="js/jquery-3.1.1.min.js">
			
		</script>
		<script type="text/javascript" src="js/plus_extends.js">
			
		</script>
		<script type="text/javascript">
			//个人习惯，除了MUI比较方便的函数我会使用之外，对于DOM的操作我还是习惯JQ
			//确保plus 集成环境已经准备好
			$(function(){
				rap.receive('getResult',function(sendWebviewId,data){
					
					$('#'+data.inputId).val(data.result);					
					
				})
		
			})
			mui.plusReady(function(){
				
				$('#barcode').on('click',function(){

					var rw=rap.openWebview('barcode.html','barcode.html');
					rap.fire(rap.currenWebview(),rw,'Request',{inputId:'res'});//inputId:扫描结果显示到id为res的input控件					
				})
				
				
			})
			
		</script>
	</body>

</html>